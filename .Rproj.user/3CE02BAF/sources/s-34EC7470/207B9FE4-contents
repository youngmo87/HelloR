install.packages('sqldf')
data = dplyr::rename(data, stuno=학번, sci=과학, math=수학, art=예체)

head(data)

data2 = sqldf("select 학번, avg(kor, eng) a from data")
data2 = sqldf("select stuno, avg(kor) avgkor from data group by stuno limit 5")

sqldf("select stuno, kor from data where kor < 50 limit 10")

library('sqldf')
install.packages('RMySQL')
library(RMySQL)

drv = dbDriver("MySQL")
conn = dbConnect(drv, host='127.0.0.1', port=3306, dbname='melondb', user='dooo', password='dooo!')
dbSendQuery(conn, 'set character set utf8')
dbListTables(conn) 

rsdf = dbGetQuery(conn, "select * from Song limit 5")
rsdf = changeCode(rsdf)
rsdf

tryCatch({
  dbBegin(conn)
  dbGetQuery(conn, "update Song1 set title='선물' where songno = '30514366'")
  dbCommit(conn)
},
error = function(e) { 
  dbRollback(conn)
  print(paste("Error!!", e)) 
},
warning = function(w) {
  print(paste("Warining!!", w))
},
finally = {}  )



dbSendQuery(conn, 'set character set utf8')   # set utf-8
dbListTables(conn)       # table list


library('ggplot2')
data

save(mpg, file="data/mpg.rda")
save(data, file = "data/grade.rda")
